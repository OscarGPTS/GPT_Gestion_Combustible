<header class="bg-white shadow-md border-b-4 border-primary-600">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex items-center justify-between">
            <!-- Logo and Brand -->
            <div class="flex items-center space-x-3">
                <div class="h-20 w-20 flex items-center justify-center">
                    <svg version="1.0" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        viewBox="0 0 162.9 66.2" style="enable-background:new 0 0 162.9 66.2;" xml:space="preserve">
                    <style type="text/css">
                        .st0{fill:#CF0A2C;}
                        .st1{fill:#F9BE00;}
                    </style>
                    <g>
                        <path class="st0" d="M148.7,3l-7.3,9.5h-13.1v27H117v-27h-11.7c-0.2-0.7-0.5-1.5-0.8-2.2c-0.9-2-2.3-3.6-4-5c-1.2-1-2.6-1.7-4-2.3
                            H148.7z"/>
                        <path class="st0" d="M15.6,15.7c-0.6,0.6-1.1,1.3-1.5,2.1c-0.5,1.1-0.8,2.3-0.8,3.6c0,1.3,0.3,2.5,0.8,3.6c0.5,1.1,1.3,2,2.2,2.8
                            c1,0.8,2.1,1.4,3.4,1.8c1.3,0.4,2.8,0.6,4.3,0.6h13.8v-5.3H19l6.8-8.1h23.4v22.8H24.1c-3.2,0-6.1-0.5-8.8-1.4c-2.7-0.9-5-2.2-7-3.9
                            c-1.9-1.7-3.5-3.6-4.6-5.9c-0.3-0.5-0.5-1-0.7-1.6c0.2-0.5,0.4-1,0.7-1.5c1.1-2.2,2.6-4.1,4.6-5.7c1.9-1.6,4.3-2.8,7-3.7
                            C15.4,15.8,15.5,15.8,15.6,15.7"/>
                        <path class="st0" d="M104,16.7c0,2-0.4,3.9-1.2,5.5c-0.8,1.7-2,3.1-3.5,4.2c-1.5,1.2-3.4,2.1-5.7,2.7c-2.2,0.7-4.8,1-7.6,1H66.9
                            v9.3H55.6V20.8h31.5c1.7,0,3.1-0.4,4.1-1.1c1-0.8,1.4-1.8,1.4-3.1s-0.5-2.3-1.4-3c-1-0.7-2.3-1.1-4.1-1.1c-21,0-42,0-63,0
                            c-5.9,0-12.4,1.8-17,5.5c-2,1.6-3.6,3.5-4.8,5.8c-0.2-0.9-0.2-1.9-0.2-2.9c0-2.7,0.6-5.1,1.7-7.3c1.1-2.2,2.6-4.1,4.6-5.7
                            c1.9-1.6,4.3-2.8,7-3.7C18,3.4,21,3,24.1,3C44.8,3,65.4,3,86,3c2.8,0,5.4,0.3,7.6,1c2.2,0.7,4.1,1.6,5.6,2.8
                            c1.5,1.2,2.7,2.6,3.5,4.3C103.6,12.8,104,14.6,104,16.7"/>
                        <path class="st1" d="M131.8,54.6h4.1c0,0.7,0.1,1.1,0.4,1.3c0.2,0.1,0.5,0.2,0.8,0.2c0.3,0,1.3,0,3,0.1c1.8,0,2.9,0,3.2,0
                            c0.4,0,0.6-0.1,0.9-0.2c0.3-0.1,0.5-0.5,0.5-1c0-0.4-0.1-0.7-0.3-0.8c-0.2-0.1-0.7-0.2-1.3-0.2c-0.5,0-1.6,0-3.3-0.1
                            c-1.7-0.1-2.8-0.1-3.4-0.1c-1,0-1.8-0.1-2.3-0.3c-0.5-0.2-1-0.4-1.3-0.8c-0.5-0.6-0.8-1.6-0.8-3c0-1.6,0.3-2.7,0.9-3.3
                            c0.5-0.5,1.1-0.8,2.1-1c0.9-0.1,2.8-0.2,5.7-0.2c2,0,3.5,0.1,4.3,0.2c1.3,0.2,2.1,0.5,2.6,1.1c0.5,0.5,0.7,1.4,0.7,2.7
                            c0,0.1,0,0.3,0,0.6h-4.1c0-0.4,0-0.6-0.1-0.8c0-0.1-0.1-0.3-0.3-0.3c-0.2-0.1-0.5-0.2-1-0.2c-0.5,0-1.4,0-2.9,0
                            c-1.8,0-2.9,0.1-3.3,0.2c-0.4,0.1-0.6,0.4-0.6,0.9c0,0.5,0.2,0.8,0.6,0.9c0.3,0.1,1.8,0.2,4.5,0.3c2.2,0.1,3.7,0.1,4.5,0.2
                            c0.8,0.1,1.4,0.3,1.8,0.5c0.5,0.3,0.9,0.7,1.1,1.3c0.2,0.5,0.3,1.3,0.3,2.3c0,1.3-0.2,2.3-0.5,2.9c-0.3,0.5-0.6,0.8-1.1,1
                            c-0.5,0.2-1.1,0.4-2,0.5c-0.9,0.1-2.6,0.1-5.1,0.1c-2.1,0-3.6-0.1-4.6-0.2c-1-0.1-1.7-0.3-2.2-0.6c-0.5-0.3-0.9-0.7-1.1-1.2
                            c-0.2-0.5-0.3-1.2-0.3-2.2V54.6z M113.4,45.4h15.3v3.2h-11.2v2h10.6v3h-10.6v2.2h11.2v3.3h-15.4V45.4z M105.5,53.8h4.2
                            c0,0.7,0,1.1,0,1.3c0,1.1-0.2,1.9-0.5,2.5c-0.3,0.7-1,1.1-2.1,1.4c-1,0.2-2.8,0.4-5.3,0.4c-2.6,0-4.5-0.1-5.6-0.2
                            c-1.1-0.1-2-0.3-2.5-0.6c-0.5-0.3-0.9-0.6-1.1-1.1c-0.2-0.4-0.4-1.1-0.5-1.8c-0.1-0.6-0.1-1.8-0.1-3.4c0-1.6,0-2.8,0.1-3.5
                            c0.1-0.7,0.2-1.3,0.4-1.6c0.4-0.9,1.2-1.4,2.3-1.7c1.2-0.3,3.5-0.4,7.1-0.4c1.8,0,3.1,0,3.9,0.1c0.8,0.1,1.5,0.2,1.9,0.5
                            c0.6,0.3,1.1,0.7,1.3,1.3c0.3,0.6,0.4,1.4,0.4,2.6c0,0.1,0,0.3,0,0.7h-4.2c0-0.5-0.1-0.8-0.1-0.9c0-0.2-0.1-0.3-0.2-0.4
                            c-0.2-0.1-0.6-0.2-1.2-0.3c-0.7-0.1-1.6-0.1-3-0.1c-1.3,0-2.2,0-2.7,0.1c-0.5,0.1-0.9,0.2-1.1,0.3c-0.2,0.2-0.4,0.5-0.5,1
                            c-0.1,0.5-0.1,1.2-0.1,2.3c0,1,0,1.8,0.1,2.2c0.1,0.4,0.3,0.7,0.5,0.9c0.2,0.2,0.6,0.3,1.1,0.4c0.5,0.1,1.4,0.1,2.7,0.1
                            c1.6,0,2.7,0,3.2-0.1c0.5-0.1,0.9-0.2,1.1-0.4C105.4,55.3,105.5,54.7,105.5,53.8z M83.9,45.4h4.4v13.8h-4.4V45.4z M61,45.4h4.6
                            l5,10.3h0.8l5-10.3h4.6l-6.7,13.8h-6.5L61,45.4z M45.7,52.2h5.9c1,0,1.6,0,1.8-0.1c0.2,0,0.4-0.1,0.5-0.2c0.2-0.1,0.3-0.3,0.4-0.5
                            c0.1-0.2,0.1-0.6,0.1-1c0-0.4,0-0.8-0.1-1c-0.1-0.2-0.2-0.4-0.4-0.5c-0.1-0.1-0.3-0.1-0.5-0.1c-0.2,0-0.8,0-1.8,0h-5.9V52.2z
                            M41.5,59.2V45.4h10.2c2.4,0,3.8,0,4.3,0.1c0.5,0,0.9,0.2,1.4,0.5c0.5,0.3,0.9,0.8,1.1,1.3c0.2,0.6,0.3,1.4,0.3,2.6
                            c0,1-0.1,1.7-0.2,2.2c-0.1,0.5-0.4,0.8-0.7,1.1c-0.4,0.3-0.9,0.5-1.7,0.6c0.9,0.1,1.5,0.3,1.9,0.8c0.2,0.3,0.4,0.6,0.4,1
                            c0.1,0.4,0.1,1.2,0.1,2.4v1.3h-4.1v-0.7c0-0.8,0-1.3-0.1-1.6c-0.1-0.3-0.2-0.6-0.3-0.8c-0.2-0.2-0.4-0.3-0.6-0.3
                            c-0.3,0-0.8-0.1-1.7-0.1h-5.9v3.5H41.5z M22.6,45.4h15.3v3.2H26.8v2h10.6v3H26.8v2.2H38v3.3H22.6V45.4z M2.1,54.6h4.1
                            c0,0.7,0.1,1.1,0.4,1.3c0.2,0.1,0.5,0.2,0.8,0.2c0.3,0,1.3,0,3,0.1c1.8,0,2.9,0,3.2,0c0.4,0,0.6-0.1,0.9-0.2c0.3-0.1,0.5-0.5,0.5-1
                            c0-0.4-0.1-0.7-0.3-0.8c-0.2-0.1-0.7-0.2-1.3-0.2c-0.5,0-1.6,0-3.3-0.1c-1.7-0.1-2.8-0.1-3.4-0.1c-1,0-1.8-0.1-2.3-0.3
                            c-0.5-0.2-1-0.4-1.3-0.8c-0.5-0.6-0.8-1.6-0.8-3c0-1.6,0.3-2.7,0.9-3.3c0.5-0.5,1.1-0.8,2.1-1c0.9-0.1,2.8-0.2,5.7-0.2
                            c2,0,3.5,0.1,4.3,0.2c1.3,0.2,2.1,0.5,2.6,1.1c0.5,0.5,0.7,1.4,0.7,2.7c0,0.1,0,0.3,0,0.6h-4.1c0-0.4,0-0.6-0.1-0.8
                            c0-0.1-0.1-0.3-0.3-0.3c-0.2-0.1-0.5-0.2-1-0.2c-0.5,0-1.4,0-2.9,0c-1.8,0-2.9,0.1-3.3,0.2c-0.4,0.1-0.6,0.4-0.6,0.9
                            c0,0.5,0.2,0.8,0.6,0.9c0.3,0.1,1.8,0.2,4.5,0.3c2.2,0.1,3.7,0.1,4.5,0.2c0.8,0.1,1.4,0.3,1.8,0.5c0.5,0.3,0.9,0.7,1.1,1.3
                            c0.2,0.5,0.3,1.3,0.3,2.3c0,1.3-0.2,2.3-0.5,2.9c-0.3,0.5-0.6,0.8-1.1,1c-0.5,0.2-1.1,0.4-2,0.5c-0.9,0.1-2.6,0.1-5.1,0.1
                            c-2.1,0-3.6-0.1-4.6-0.2c-1-0.1-1.7-0.3-2.2-0.6C3,58.3,2.6,58,2.4,57.5c-0.2-0.5-0.3-1.2-0.3-2.2V54.6z"/>
                        <path class="st0" d="M158.4,11.4c-0.9,0.9-2,1.3-3.3,1.3c-1.3,0-2.5-0.5-3.4-1.4c-0.9-0.9-1.4-2-1.4-3.4c0-1.4,0.5-2.6,1.5-3.5
                            c0.9-0.9,2-1.3,3.3-1.3c1.3,0,2.4,0.5,3.4,1.4c0.9,0.9,1.4,2.1,1.4,3.4C159.8,9.3,159.3,10.5,158.4,11.4z M152.2,5.2
                            c-0.8,0.8-1.1,1.7-1.1,2.8c0,1.1,0.4,2,1.2,2.8c0.8,0.8,1.7,1.2,2.8,1.2c1.1,0,2-0.4,2.8-1.2c0.8-0.8,1.2-1.7,1.2-2.8
                            c0-1.1-0.4-2-1.1-2.8C157,4.4,156.1,4,155,4C153.9,4,153,4.4,152.2,5.2z M152.9,10.6V5.3c0.3,0,0.8,0,1.5,0c0.7,0,1,0,1.1,0
                            c0.4,0,0.8,0.1,1,0.3c0.5,0.3,0.7,0.7,0.7,1.3c0,0.4-0.1,0.8-0.4,1c-0.2,0.2-0.6,0.3-0.9,0.4c0.3,0.1,0.6,0.2,0.8,0.3
                            c0.3,0.3,0.5,0.6,0.5,1.2v0.5c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0,0.2l0,0.1h-1.3c0-0.2-0.1-0.4-0.1-0.7c0-0.3,0-0.5-0.1-0.6
                            c-0.1-0.2-0.2-0.3-0.4-0.4c-0.1,0-0.3-0.1-0.5-0.1l-0.3,0h-0.3v1.9H152.9z M155.5,6.4c-0.2-0.1-0.5-0.1-0.8-0.1h-0.3v1.5h0.5
                            c0.3,0,0.6-0.1,0.8-0.2c0.2-0.1,0.3-0.3,0.3-0.6C155.9,6.7,155.7,6.5,155.5,6.4z"/>
                    </g>
                    </svg>
                </div>
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">Sistema de Gestión de Combustible</h1>
                </div>
            </div>

            <!-- User Menu -->
            <div class="flex items-center space-x-4">
                <!-- Navigation Links -->
                <nav class="hidden md:flex space-x-1">
                    <a href="{{ route('dashboard') }}" 
                       class="px-3 py-2 rounded-md text-sm font-medium {{ request()->routeIs('dashboard') ? 'bg-primary-100 text-primary-700' : 'text-gray-700 hover:bg-gray-100' }}">
                        Dashboard
                    </a>
                    <a href="{{ route('vehicles.index') }}" 
                       class="px-3 py-2 rounded-md text-sm font-medium {{ request()->routeIs('vehicles.*') ? 'bg-primary-100 text-primary-700' : 'text-gray-700 hover:bg-gray-100' }}">
                        Vehículos
                    </a>
                    <a href="{{ route('fuel-records.index') }}" 
                       class="px-3 py-2 rounded-md text-sm font-medium {{ request()->routeIs('fuel-records.*') ? 'bg-primary-100 text-primary-700' : 'text-gray-700 hover:bg-gray-100' }}">
                        Combustible
                    </a>
                    @auth
                        @if(auth()->user()->hasRole('admin'))
                        <a href="{{ route('users.index') }}" 
                           class="px-3 py-2 rounded-md text-sm font-medium {{ request()->routeIs('users.*') ? 'bg-primary-100 text-primary-700' : 'text-gray-700 hover:bg-gray-100' }}">
                            Usuarios
                        </a>
                        @endif
                    @endauth
                </nav>

                <!-- User Profile Dropdown -->
                @auth
                <div class="relative group">
                    <button class="flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-100 transition">
                        @if(auth()->user()->avatar)
                            <img src="{{ auth()->user()->avatar }}" alt="{{ auth()->user()->name }}" class="h-8 w-8 rounded-full">
                        @else
                            <div class="h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-white text-sm font-bold">
                                {{ substr(auth()->user()->name, 0, 1) }}
                            </div>
                        @endif
                        <div class="text-left hidden sm:block">
                            <p class="text-sm font-semibold text-gray-900">{{ auth()->user()->name }}</p>
                            <p class="text-xs text-gray-500">{{ auth()->user()->roles->first()?->display_name ?? 'Usuario' }}</p>
                        </div>
                        <svg class="h-4 w-4 text-gray-400 group-hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
                        </svg>
                    </button>

                    <!-- Dropdown Menu -->
                    <div class="absolute right-0 mt-0 w-48 bg-white rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="px-4 py-3 border-b border-gray-100">
                            <p class="text-sm font-semibold text-gray-900">{{ auth()->user()->name }}</p>
                            <p class="text-xs text-gray-500">{{ auth()->user()->email }}</p>
                        </div>
                        <a href="{{ route('login.logout') }}" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700 border-t border-gray-100">
                            <svg class="inline-block h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                            </svg>
                            Cerrar Sesión
                        </a>
                    </div>
                </div>
                @endauth
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div class="md:hidden mt-4 flex gap-2">
            <a href="{{ route('dashboard') }}" class="flex-1 px-3 py-2 rounded-md text-xs font-medium {{ request()->routeIs('dashboard') ? 'bg-primary-100 text-primary-700' : 'bg-gray-100 text-gray-700' }}">
                Dashboard
            </a>
            <a href="{{ route('vehicles.index') }}" class="flex-1 px-3 py-2 rounded-md text-xs font-medium {{ request()->routeIs('vehicles.*') ? 'bg-primary-100 text-primary-700' : 'bg-gray-100 text-gray-700' }}">
                Vehículos
            </a>
            <a href="{{ route('fuel-records.index') }}" class="flex-1 px-3 py-2 rounded-md text-xs font-medium {{ request()->routeIs('fuel-records.*') ? 'bg-primary-100 text-primary-700' : 'bg-gray-100 text-gray-700' }}">
                Combustible
            </a>
            @auth
                @if(auth()->user()->hasRole('admin'))
                <a href="{{ route('users.index') }}" class="flex-1 px-3 py-2 rounded-md text-xs font-medium {{ request()->routeIs('users.*') ? 'bg-primary-100 text-primary-700' : 'bg-gray-100 text-gray-700' }}">
                    Usuarios
                </a>
                @endif
            @endauth
        </div>
    </div>
</header>
